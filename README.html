<style>
	button.btn_select_all, button.btn_select_del, button.btn_select_wishlist { border:0 }
	button.btn_ea_modify, button.btn_option_modify { border:0 }
	.goods_name {width:150px; text-align:left; word-wrap:break-word; } 
	<!--[[so]]-->
	.goods_option {padding-top:3px;font-color:#848484}   
	.goods_input {padding-top:3px;font-color:#848484}
	.sub_bg {background-color:#f7f7f7}

	.goods_option_table td {
	    color: #ffffff !important;
	    font-size:13px !important;
	}

	.goods_quantity_table .option_text {
	    color: #ffffff !important;
	    font-size:13px !important;
	}

	.goods_quantity_table .quantity_cell {
	    color: #ffffff !important;
	    font-size:13px !important;
	}
#fade {
	display: none;
	position:fixed;
	top: 0%;
	left: 0%;
	width: 100%;
	height: 100%;
	background-color: #e7e7e7;
	z-index: 9998 !important;
	-moz-opacity: 0.8;
	opacity: .70;
	filter: alpha(opacity=80);
}
	
#modal {
	display: none;
	position: fixed;
	top: 35%;
	left: 50%;
	margin-left:-40px;
	width: 80px;
	height: 80px;
	padding:30px 15px 0px;
	z-index: 9999 !important;
	text-align:center;
	overflow: auto;
}
::-webkit-scrollbar {
    -webkit-appearance: none;
    width: 7px;
}
::-webkit-scrollbar-thumb {
    border-radius: 4px;
    background-color: rgba(0,0,0,.5);
    -webkit-box-shadow: 0 0 1px rgba(255,255,255,.5);
}
</style>
{is_file_facebook_tag}

<script type="text/javascript">
	{?  APP_LIKE_TYPE == 'API' }
	try{ 
		window.fbAsyncInit = function() {
			FB.init({
			appId      : plus_app_id, //App ID
			status     : true, // check login status
			cookie     : true, // enable cookies to allow the server to access the session
			xfbml      : true,  // parse XFBML,
			oauth : true,
			version    : 'v{APP_VER}'
			});  
			{? cfg.order.fblike_ordertype && fblikesale }
				FB.getLoginStatus(function(response) {
					$("#fbloginlay").hide();
						{ ? !fbuser }
							$.ajax({'url' : '../sns_process/facebooklogincknone', 'type' : 'post'});
						{ / }
					if (response.status === 'connected') {
						var uid = response.authResponse.userID;
						var accessToken = response.authResponse.accessToken;
					} else if (response.status === 'not_authorized') {
						$("#fbloginlay").show();
					} else {
						$("#fbloginlay").show();
					}
				});
			{ / }
			{? APP_USE == 'f' } 
				// like 이벤트가 발생할때 호출된다.
				FB.Event.subscribe('edge.create', function(response) {
					$("#facebook_mgs").html("페이스북과 정보를 교환 중에 있습니다. 잠시만 기다려 주세요.");
					{? ( _SERVER.HTTP_HOST==APP_DOMAIN ) }
						$.ajax({'url' : '../sns_process/facebooklikeck', 'type' : 'post', 'data' : {'mode':'like', 'product_url':response}, 'dataType': 'json','success': function(result){$("#facebook_mgs").html("");order_price_calculate();}});
					{:}
						var url = 'http://{config_system.subDomain}/sns_process/facebooklikeck?mode=like&firstmallcartid={firstmallcartid}&product_url='+response;
						$.getJSON(url + "&jsoncallback=?", function(res) {$("#facebook_mgs").html("");order_price_calculate();}); 
					{/}
				});

				// unlike 이벤트가 발생할때 호출된다.
				FB.Event.subscribe('edge.remove', function(response) {
					$("#facebook_mgs").html("페이스북과 정보를 교환 중에 있습니다. 잠시만 기다려 주세요.");
					{? ( _SERVER.HTTP_HOST==APP_DOMAIN ) }
						$.ajax({'url' : '../sns_process/facebooklikeck', 'type' : 'post', 'data' : {'mode':'unlike', 'product_url':response}, 'dataType': 'json','success': function(result){$("#facebook_mgs").html("");order_price_calculate();}});
					{:}
						var url = 'http://{config_system.subDomain}/sns_process/facebooklikeck?mode=unlike&firstmallcartid={firstmallcartid}&product_url='+response;
						$.getJSON(url + "&jsoncallback=?", function(res) {$("#facebook_mgs").html("");order_price_calculate();}); 
					{/}
				});//
			{ / }
		}
	} catch (facebookjsok) {
	}
	{ / }
</script>

<div id="pinnn" style="background-color:#4C4C4C; color:#fff; width:440px; height:30px; padding-left:10px; padding-top:10px; position:fixed; font-weight:lighter; line-height:15px; z-index:9999 !important"> 
	원하시는 시간에 배달해드립니다. <span style="font-size:11px;">*40,000원 이상 결제시 배송비 무료</span> <div id="quickcart_x" class="hand" style="padding-left:30px; display:inline-block" onclick="parent.cart_disappear();"><span style="font-size:25px;">x</span></div>
</div> 

<form name="orderFrm" id="orderFrm" method="post" action="cacluate" target="actionFrame">
</form>
<table width="100%" border="0" cellpadding="0" cellspacing="0" style="margin-bottom:56px; background-color:#fff; z-index:9999 !important">
<tr>
	<td>
		<!-- 타이틀 -->

			<form name="cart_form" id="cart_form" method="post" target="actionFrame" action="order">
			<input type="hidden" name="cart_version" value='2' /> 

			<!-- Button -->
			<table width="100%" border="0" cellpadding="0" cellspacing="0" class="dn"> 
			<tr>
				<td>
					<button type="button" class="btn_select_all btn_small_whiteb hand" value="전체선택">
					전체선택
					<button type="button" class="btn_select_del btn_small_whiteb hand">
					선택삭제
					</button>
					<!--{ ? member_seq }--> <!--not using wishlist for now-->
					<button type="button" class="btn_select_wishlist dn"><img src="../images/design/btn_select_wishlist.gif" /></button>
					<!--{ / }-->
				</td>
			</tr>
			</table>
			<!-- /Button -->

			<br style="line-height:8px;" />



			<!-- Cart List -->  
			<table style="width:440px; height:400px !important; margin-top:25px; margin-bottom:50px; overflow: -moz-scrollbars-vertical; overflow-y:scroll; overflow-x:hidden;" border="0" cellpadding="0" cellspacing="0" class="quick_cart_list" id="cart_list"> 


			<tbody style="display:block; overflow: -moz-scrollbars-vertical; overflow-y:scroll;overflow-x:hidden ">   
			<tr>  
				<td colspan="6" style="padding:0px">
					
					<div style="width: 100%">
						<div style="width: 96%; border: 3px solid #eeeeee; margin-left: auto; margin-right: auto; margin-top: 5px; margin-bottom: 5px">

							<div style="text-align:center; margin: 10px; margin-top: 15px">
 		  					 <div style="display: inline-block; background-color:#dcdcdc; height:1px; margin-bottom:5px; width:100%; text-align:center;"></div>
 							</div>
 							<div style="width:100%; margin-top:-35px; text-align:center; position: relative;">
  								<div style="width: 80px; margin-left: auto; margin-right: auto; margin-top:20px; background-color: #fff">
      								<img style="width: 27px" src="../images/cart_home_icon.png"/>
  								</div>
  							<div style="width: 90%; font-size: 12px; margin-top:10px; margin-bottom:10px; margin-left: auto; margin-right: auto">에피세리는 로컬상점에서 장을 보기 때문에 각 상품들이 로컬상점 영업시간에 영향을 받아요. <span style="color:#f67278; font-size: 12px; font-weight: normal"><span><img style="width: 7px; margin-left: 5px; margin-right: 3px" src="../images/cart_pink_icon.png"/></span>상품 배달가능시간</span>을 꼭 확인해주세요.</div>
  							</div>
		
						</div>	
					</div>
				</td>
			</tr>  
					
			<!--{ ? alltime_goods }-->
				<!--{ @ alltime_goods }-->
					<!--{ @ .value_ }-->
					<!--{ ?..index_ == 0 }-->
					<!--{ ? ..value_ }-->
					<tr id="purchase_num_title_0">
						<td colspan="6" style="padding: 0px">
							<div style="width: 100%; height: 30px; background: #eeeeee; line-height: 2.3; padding-left: 20px; font-weight: normal; font-size: 14px">모든시간 가능 상품
							</div>
						</td>
					</tr>
						<!--{/}-->
					<!--{/}-->		
			<tr id="{..cart_option_seq}" alt="purchase_num_0" class="{..goods_seq}" style="height:80px !important;"> 
				<td class="cell dn" height="80" >
					<input type="checkbox" name="cart_option_seq[]" value="{..cart_option_seq}" />
				</td>
				<td class="cell">
					<table border="0" cellpadding="0" cellspacing="0"> 
					<tr>
						<td class="left noborder" width="80" valign="top" style="border-width:0px;">
						<a href="../goods/view?no={..goods_seq}" title="{..goods_name}" class="image_anchor" onclick="parent.image_anchor({..goods_seq});"> 
							<img src="{..image}" align="absmiddle" hspace="5" style="border:0px solid #ddd;" onerror="this.src='../images/common/noimage_list.gif'" width="60" />
						</a>
						</td>
						<td class="left noborder" valign="middle" style="width:160px; min-width:160px; max-width:160px;"> 
							<div class="goods_name">
								<a href="../goods/view?no={..goods_seq}" title="{..goods_name}" class="view_anchor" onclick="parent.view_anchor({..goods_seq});">{..goods_name}</a><br> 
								<span id="item_price_id_{..goods_seq}" class="goods_price item_price_{..cart_option_seq}" style="font-size:11px">{..price}</span> <span style="font-size:11px">원 / </span> <span style="font-size:11px">{..summary}</span>
								<!--[[nick]] max_purchase cnt-->
								<p id="max_purchase_{..goods_seq}" style="display:none">{..max_purchase_ea}</p>
								<!--{? ..eventEnd }-->
								<div class="soloEventTd{..cart_option_seq}" style="font-face:Dotum; font-size:11px;">
									<img src="../images/common/icon_clock.gif" style="padding-bottom:2px;">남은시간
									<span style="background-color:#c61515; color:#ffffff; padding:2px; font-weight:bold;">
									<span id="soloday{..cart_option_seq}" style="color:#ffffff; font-weight:bold;">0</span>일
									<span id="solohour{..cart_option_seq}" style="color:#ffffff; font-weight:bold;">00</span>:
									<span id="solomin{..cart_option_seq}" style="color:#ffffff; font-weight:bold;">00</span>:
									<span id="solosecond{..cart_option_seq}" style="color:#ffffff; font-weight:bold;">00</span>
									</span>
								</div>
								<script>
									$(function() {
										timeInterval{..cart_option_seq} = setInterval(function(){
											var time{..cart_option_seq} = showClockTime('text', '{..eventEnd.year}', '{..eventEnd.month}', '{..eventEnd.day}', '{..eventEnd.hour}', '{..eventEnd.min}', '{..eventEnd.second}', 'soloday{..cart_option_seq}', 'solohour{..cart_option_seq}', 'solomin{..cart_option_seq}', 'solosecond{..cart_option_seq}', '{..cart_option_seq}');
											if(time{..cart_option_seq} == 0){
												clearInterval(timeInterval{.cart_option_seq});
												$(".soloEventTd{..cart_option_seq}").html("단독 이벤트 종료");
											}
										},1000);
									});
								</script>
								<!--{ / }-->
							</div>
							<!--{ ? ..option1 }-->
							<div class="goods_option">
								<img src="../images/common/icon_option.gif" />
								{?..title1}{..title1}:{ / }{..option1}
								{ ? ..option2 }{?..title2}{..title2}:{ / }{..option2} { / }
								{ ? ..option3 }{?..title3}{..title3}:{ / }{..option3} { / }
								{ ? ..option4 }{?..title4}{..title4}:{ / }{..option4} { / }
								{ ? ..option5 }{?..title5}{..title5}:{ / }{..option5} { / }
							</div>
							<!--{ / }-->
							<!--{ ? ..cart_inputs }-->
								<!--{ @ ..cart_inputs }-->
									<!--{ ? ...input_value }-->
									<div class="goods_input">
										<img src="../images/common/icon_input.gif" />
										{?...type=='file'}
											{?...input_title}{...input_title}:{ / } <a href="/mypage_process/filedown?file={...input_value}" target="actionFrame"><img src="/mypage_process/filedown?file={...input_value}" width="13" height="13" title="크게 보기" align="absmiddle" /> <span class="desc">{...input_value}</span></a>
										{:}
											{?...input_title}{...input_title}:{ / }{...input_value}
										{/}
									</div>
									<!--{ / }-->
								<!--{ / }-->
							<!--{ / }-->
							<!--{? cfg.order.fblike_ordertype && fblikesale //회원, 비회원체크 }-->
							<div class="fblikelay" style="padding-top:10px">
								{=snsLikeButton(..goods_seq,'button_count')}
							</div>
							<!--{ / }-->
						</td>
					</tr>
					</table>
				</td>
<!--				<td class="cell" width="140">
					<div id="cart_option_ea_{..cart_option_seq}">{=number_format(..ea)}</div>
					<div><button type="button" class="btn_ea_modify btn_small_whiteb hand" style="border: 1px solid #007E41;" id="{..cart_option_seq}">변경</button></div>
				</td>[[nick]] original 변경 code-->
				<td class="cell" width="140">
				<div class="quick_plus hand up_count_{..goods_seq}" style="width:30px; height:30px; color:#007e41; text-align:center; line-height:25px" onclick="quick_plus_timer({..cart_option_seq},{..goods_seq});" id="{..cart_option_seq}">
				  &and;
				  <button type="button" class="quick_plus dn" style="width:30px; height:30px;" onclick="quick_plus({..cart_option_seq},{..goods_seq}) ;" id="{..cart_option_seq}"></button>
				</div>

				<div  id="cart_option_ea_{..cart_option_seq}" style ="text-align:center; width:30px; padding-left:3px;" class="goods_seq_{..goods_seq}">{=number_format(..ea)}</div>

				<div class="quick_minus hand" style="width:30px; height:30px; color:#007e41; line-height:25px; text-align:center;" onclick="quick_minus_timer({..cart_option_seq},{..goods_seq});" id="{..cart_option_seq}">
				  &or;
				  <button type="button" class="quick_minus dn" style="width:30px; height:30px;" onclick="quick_minus({..cart_option_seq},{..goods_seq}) ;" id="{..cart_option_seq}">-</button>
				</div>

				</td>
				
				<td class="cell right min90" width="120">
					<span id="cart_option_price_id_{..goods_seq}" class="item_prices cart_option_price_{..cart_option_seq}" style="width:120px;">{=number_format(..sales.result_price)}</span>원
				</td>

				<!--{ ?..index_ == 0 }-->

				<!--{ / }-->
				<td width="70"> <!--new td by [[so]] 한개씩 삭제 가능하게 -->
					<button id="" type="button" class="hand" style="border-width:0px; background-color:#fff;"  onclick="quick_delete({..cart_option_seq},{..goods_seq}) ;">x</button> 
				</td>
				<td width="10">&nbsp;</td>
			</tr>
			<!--{ @ ..cart_suboptions }-->
			<tr>
				<td class="cell sub_bg"></td>
				<td class="cell sub_bg">
					<table width="100%" border="0" cellpadding="0" cellspacing="0"> 
					<tr>
						<td class="right" width="80">
							<div style="padding-right:5px;"><img src="../images/common/icon_add_arrow.gif" /></div>
						</td>
						<td class="left"  valign="top">
							<img src="../images/common/icon_add.gif" />
							{ ? ...suboption }
								{ ? ...suboption_title }{...suboption_title}:{ / }{...suboption}
							{ / }
						</td>
					</tr>
					</table>
				</td>
				<td class="cell sub_bg"><div>{=number_format(...ea)}</div></td>
				<td class="cell sub_bg right">{=number_format(...price*...ea)}원</td>
				<td class="cell sub_bg center">
					<div id="cart_suboption_sale_total_{...cart_suboption_seq}">
						<!--{ ? ...sales.total_sale_price > 0 }-->
						{=number_format(...sales.total_sale_price)}원
						<!--{ : }-->
						-
						<!--{ / }-->
					</div>
					<div id="cart_suboption_sale_detail_{...cart_suboption_seq}" { ? ...sales.total_sale_price > 0 }{ : }class="hide"{ / }>
						<img src="../images/common/icon_dc_list.gif" alt="할인내역" class="price_area" class="hand" />
						<div class="absolute">
							<div class="sale_price_layer hide">
								<table width="100%" border="0" cellpadding="0" cellspacing="0" bgcolor="#000000" >
								<col width="80" />
								<tr>
									<td class="left pdl5" height="25">
										<strong style="color:#fff;font-size:12px;">할인내역</strong>
									</td>
									<td class="right" height="25"></td>
								</tr>
								<!--{ @ ...sales.sale_list }-->
								<tr id="cart_suboption_{....key_}_saletr_{...cart_suboption_seq}" bgcolor="#ffffff" height="25" { ? ....value_ > 0 }{ : }class="hide"{ / }>
									<td class="left pdl5">
										<img src="../images/common/arrow_right.gif" />
										{...sales.title_list[....key_]}
									</td>
									<td class="right pdr5">
										<span id="cart_suboption_{....key_}_saleprice_{...cart_suboption_seq}">{=number_format(....value_)}</span>원
									</td>
								</tr>
								<!--{ / }-->
								</table>
							</div>
						</div>
					</div>
				</td>
				<td class="cell sub_bg right">
					<span id="cart_suboption_price_{...cart_suboption_seq}">{=number_format(...sales.result_price)}</span>원
				</td>
				<td class="cell sub_bg">
					<table align="center" border="0">
					<col />
					<col width="50" />
					<tr>
						<td><img src="../images/common/icon_ord_emn.gif" title="적립금" /></td>
						<td class="right"><span id="suboption_reserve_{...cart_suboption_seq}">{=number_format(...reserve)}</span>원</td>
					</tr>
					<!--{ ? isplusfreenot && isplusfreenot.ispoint}-->
					<tr>
						<td><img src="../images/common/icon_ord_point.gif" title="포인트" /></td>
						<td class="right"><span id="suboption_point_{...cart_suboption_seq}">{=number_format(...point)}</span>P</td>
					</tr>
					<!--{ / }-->
					</table>
				</td>
			</tr>
			<!--{ / }-->
			<!--{ / }-->
			<!--{ / }-->
			<!--{ / }-->


			<!--{ ? not_alltime_goods }-->
				<!--{ @ not_alltime_goods }-->
					<!--{ @ .value_ }-->
					<!--{ ?..index_ == 0 }-->
					<tr id="purchase_num_title_{..purchase_num}">
						<td colspan="6" style="padding: 0px">
							<div style="width: 100%; height: 30px; background: #eeeeee; line-height: 2.3; padding-left: 20px; font-weight: normal; font-size: 14px" >
							{..purchase_goods_name}<span><img style="width: 5px; margin-left: 10px" src="../images/cart_pink_icon.png"/></span><span style="font-size: 11px; color:#1c1c1c; margin-left: 5px">{..available_day}</span>
				</div>
						</td>
					</tr>
						
					<!--{/}-->
			<tr id="{..cart_option_seq}" alt="purchase_num_{..purchase_num}" class="{..goods_seq}" style="height:80px !important;"> 
				<td class="cell dn" height="80" >
					<input type="checkbox" name="cart_option_seq[]" value="{..cart_option_seq}" />
				</td>
				<td class="cell">
					<table border="0" cellpadding="0" cellspacing="0"> 
					<tr>
						<td class="left noborder" width="80" valign="top" style="border-width:0px;">
						<a href="../goods/view?no={..goods_seq}" title="{..goods_name}" class="image_anchor" onclick="parent.image_anchor({..goods_seq});"> 
							<img src="{..image}" align="absmiddle" hspace="5" style="border:0px solid #ddd;" onerror="this.src='../images/common/noimage_list.gif'" width="60" />
						</a>
						</td>
						<td class="left noborder" valign="middle" style="width:160px; min-width:160px; max-width:160px;"> 
							<div class="goods_name" id="purchase_goods_{..index_}">
								<a href="../goods/view?no={..goods_seq}" title="{..goods_name}" class="view_anchor" onclick="parent.view_anchor({..goods_seq});">{..goods_name}</a><br> 
								<span id="item_price_id_{..goods_seq}" class="goods_price item_price_{..cart_option_seq}" style="font-size:11px">{..price}</span> <span style="font-size:11px">원 / </span> <span style="font-size:11px">{..summary}</span>
								<!--[[nick]] max_purchase cnt-->
								<p id="max_purchase_{..goods_seq}" style="display:none">{..max_purchase_ea}</p>
								<!--{? ..eventEnd }-->
								<div class="soloEventTd{..cart_option_seq}" style="font-face:Dotum; font-size:11px;">
									<img src="../images/common/icon_clock.gif" style="padding-bottom:2px;">남은시간
									<span style="background-color:#c61515; color:#ffffff; padding:2px; font-weight:bold;">
									<span id="soloday{..cart_option_seq}" style="color:#ffffff; font-weight:bold;">0</span>일
									<span id="solohour{..cart_option_seq}" style="color:#ffffff; font-weight:bold;">00</span>:
									<span id="solomin{..cart_option_seq}" style="color:#ffffff; font-weight:bold;">00</span>:
									<span id="solosecond{..cart_option_seq}" style="color:#ffffff; font-weight:bold;">00</span>
									</span>
								</div>
								<script>
									$(function() {
										timeInterval{..cart_option_seq} = setInterval(function(){
											var time{..cart_option_seq} = showClockTime('text', '{..eventEnd.year}', '{..eventEnd.month}', '{..eventEnd.day}', '{..eventEnd.hour}', '{..eventEnd.min}', '{..eventEnd.second}', 'soloday{..cart_option_seq}', 'solohour{..cart_option_seq}', 'solomin{..cart_option_seq}', 'solosecond{..cart_option_seq}', '{..cart_option_seq}');
											if(time{..cart_option_seq} == 0){
												clearInterval(timeInterval{.cart_option_seq});
												$(".soloEventTd{..cart_option_seq}").html("단독 이벤트 종료");
											}
										},1000);
									});
								</script>
								<!--{ / }-->
							</div>
							<!--{ ? ..option1 }-->
							<div class="goods_option">
								<img src="../images/common/icon_option.gif" />
								{?..title1}{..title1}:{ / }{..option1}
								{ ? ..option2 }{?..title2}{..title2}:{ / }{..option2} { / }
								{ ? ..option3 }{?..title3}{..title3}:{ / }{..option3} { / }
								{ ? ..option4 }{?..title4}{..title4}:{ / }{..option4} { / }
								{ ? ..option5 }{?..title5}{..title5}:{ / }{..option5} { / }
							</div>
							<!--{ / }-->
							<!--{ ? ..cart_inputs }-->
								<!--{ @ ..cart_inputs }-->
									<!--{ ? ...input_value }-->
									<div class="goods_input">
										<img src="../images/common/icon_input.gif" />
										{?...type=='file'}
											{?...input_title}{...input_title}:{ / } <a href="/mypage_process/filedown?file={...input_value}" target="actionFrame"><img src="/mypage_process/filedown?file={...input_value}" width="13" height="13" title="크게 보기" align="absmiddle" /> <span class="desc">{...input_value}</span></a>
										{:}
											{?...input_title}{...input_title}:{ / }{...input_value}
										{/}
									</div>
									<!--{ / }-->
								<!--{ / }-->
							<!--{ / }-->
							<!--{? cfg.order.fblike_ordertype && fblikesale //회원, 비회원체크 }-->
							<div class="fblikelay" style="padding-top:10px">
								{=snsLikeButton(..goods_seq,'button_count')}
							</div>
							<!--{ / }-->
						</td>
					</tr>
					</table>
				</td>
<!--				<td class="cell" width="140">
					<div id="cart_option_ea_{..cart_option_seq}">{=number_format(..ea)}</div>
					<div><button type="button" class="btn_ea_modify btn_small_whiteb hand" style="border: 1px solid #007E41;" id="{..cart_option_seq}">변경</button></div>
				</td>[[nick]] original 변경 code-->
				<td class="cell" width="140">
				<div class="quick_plus hand up_count_{..goods_seq}" style="width:30px; height:30px; color:#007e41; text-align:center; line-height:25px" onclick="quick_plus_timer({..cart_option_seq},{..goods_seq});" id="{..cart_option_seq}">
				  &and;
				  <button type="button" class="quick_plus dn" style="width:30px; height:30px;" onclick="quick_plus({..cart_option_seq},{..goods_seq}) ;" id="{..cart_option_seq}"></button>
				</div>

				<div  id="cart_option_ea_{..cart_option_seq}" style ="text-align:center; width:30px; padding-left:3px;" class="goods_seq_{..goods_seq}">{=number_format(..ea)}</div>

				<div class="quick_minus hand" style="width:30px; height:30px; color:#007e41; line-height:25px; text-align:center;" onclick="quick_minus_timer({..cart_option_seq},{..goods_seq});" id="{..cart_option_seq}">
				  &or;
				  <button type="button" class="quick_minus dn" style="width:30px; height:30px;" onclick="quick_minus({..cart_option_seq},{..goods_seq}) ;" id="{..cart_option_seq}">-</button>
				</div>

				</td>
				
				<td class="cell right min90" width="120">
					<span id="cart_option_price_id_{..goods_seq}" class="item_prices cart_option_price_{..cart_option_seq}" style="width:120px;">{=number_format(..sales.result_price)}</span>원
				</td>

				<!--{ ?..index_ == 0 }-->

				<!--{ / }-->
				<td width="70"> <!--new td by [[so]] 한개씩 삭제 가능하게 -->
					<button id="" type="button" class="hand" style="border-width:0px; background-color:#fff;"  onclick="quick_delete({..cart_option_seq},{..goods_seq}) ;">x</button> 
				</td>
				<td width="10">&nbsp;</td>
			</tr>
			<!--{ @ ..cart_suboptions }-->
			<tr>
				<td class="cell sub_bg"></td>
				<td class="cell sub_bg">
					<table width="100%" border="0" cellpadding="0" cellspacing="0"> 
					<tr>
						<td class="right" width="80">
							<div style="padding-right:5px;"><img src="../images/common/icon_add_arrow.gif" /></div>
						</td>
						<td class="left"  valign="top">
							<img src="../images/common/icon_add.gif" />
							{ ? ...suboption }
								{ ? ...suboption_title }{...suboption_title}:{ / }{...suboption}
							{ / }
						</td>
					</tr>
					</table>
				</td>
				<td class="cell sub_bg"><div>{=number_format(...ea)}</div></td>
				<td class="cell sub_bg right">{=number_format(...price*...ea)}원</td>
				<td class="cell sub_bg center">
					<div id="cart_suboption_sale_total_{...cart_suboption_seq}">
						<!--{ ? ...sales.total_sale_price > 0 }-->
						{=number_format(...sales.total_sale_price)}원
						<!--{ : }-->
						-
						<!--{ / }-->
					</div>
					<div id="cart_suboption_sale_detail_{...cart_suboption_seq}" { ? ...sales.total_sale_price > 0 }{ : }class="hide"{ / }>
						<img src="../images/common/icon_dc_list.gif" alt="할인내역" class="price_area" class="hand" />
						<div class="absolute">
							<div class="sale_price_layer hide">
								<table width="100%" border="0" cellpadding="0" cellspacing="0" bgcolor="#000000" >
								<col width="80" />
								<tr>
									<td class="left pdl5" height="25">
										<strong style="color:#fff;font-size:12px;">할인내역</strong>
									</td>
									<td class="right" height="25"></td>
								</tr>
								<!--{ @ ...sales.sale_list }-->
								<tr id="cart_suboption_{....key_}_saletr_{...cart_suboption_seq}" bgcolor="#ffffff" height="25" { ? ....value_ > 0 }{ : }class="hide"{ / }>
									<td class="left pdl5">
										<img src="../images/common/arrow_right.gif" />
										{...sales.title_list[....key_]}
									</td>
									<td class="right pdr5">
										<span id="cart_suboption_{....key_}_saleprice_{...cart_suboption_seq}">{=number_format(....value_)}</span>원
									</td>
								</tr>
								<!--{ / }-->
								</table>
							</div>
						</div>
					</div>
				</td>
				<td class="cell sub_bg right">
					<span id="cart_suboption_price_{...cart_suboption_seq}">{=number_format(...sales.result_price)}</span>원
				</td>
				<td class="cell sub_bg">
					<table align="center" border="0">
					<col />
					<col width="50" />
					<tr>
						<td><img src="../images/common/icon_ord_emn.gif" title="적립금" /></td>
						<td class="right"><span id="suboption_reserve_{...cart_suboption_seq}">{=number_format(...reserve)}</span>원</td>
					</tr>
					<!--{ ? isplusfreenot && isplusfreenot.ispoint}-->
					<tr>
						<td><img src="../images/common/icon_ord_point.gif" title="포인트" /></td>
						<td class="right"><span id="suboption_point_{...cart_suboption_seq}">{=number_format(...point)}</span>P</td>
					</tr>
					<!--{ / }-->
					</table>
				</td>
			</tr>
			<!--{ / }-->
			<!--{ / }-->
			<!--{ / }-->
			<!--{ / }-->
			</tbody>
			
			</table>
			</form>

			

			<div class="cboth"></div>
			<div align="center" id="facebook_mgs">{? APP_LIKE_TYPE == 'API' }페이스북과 정보를 교환 중에 있습니다. 잠시만 기다려 주세요.{/}</div>


		<div id="summary" style="position:fixed; top:425px; background-color:rgba(66, 66, 66, 0.70); z-index:9999 !importnat"> 
			<table width="100%" border="0" cellpadding="0" cellspacing="0" style="position:fixed; background-color:rgba(66, 66, 66, 0.57); color:#fff; padding-bottom:30px; padding-bottom:5px; padding-right:15px;">
			<tr class="domestic">
				<td height="34" align="right" style="padding:0 0px;" > 
					<div class="goods_delivery_info" id="goods_delivery_price">
						기본배송비: {=number_format(shipping_price.shop)}원
						<!--{ ? shipping_price.goods > 0 }-->
						<p style="padding-left:20px;">개별배송비 : {=number_format(shipping_price.goods)}원</p>
						<!--{ / }-->
					</div>
				</td>
			</tr>
			
			<tr class="domestic">
				<td height="20" align="right" style="padding:0 0px;" > 
					<div style="display:block !important" class="goods_delivery_info" id="goods_delivery_total" >
						총 결제금액: {=number_format(total_price)}원
                    </div>
                  </td>
                </tr>
			</table>

   

			<div style="width:100%; position:fixed; z-index:9999 !important">
				<span class="btn_all_order"  style="position:fixed; top:484px;">   
					<!--{? userInfo.store_main == 2}-->
						<button type="submit" class="green_noborder hand" style="width:444px; border-radius:0px; background-color:#eaeaea; color:#555555; cursor:default" value="전체상품 주문하기" disabled>주문불가 지역입니다
						</button>
					<!--{:}-->
						<button type="submit" class="green_noborder hand" style="width:444px; border-radius:0px; " value="전체상품 주문하기" onclick="mixpanel_order();">주문하기
						</button>
					<!--{/}-->
				</span>
				<span class="btn_selected_order dn">
					<button type="submit" class="btn_whitebackground hand" value="선택상품 주문하기">선택상품 주문하기</button>
				</span>
			</div>

		</div>

			{navercheckout_tpl}

		<!-- 본문내용 끝 -->
	</td>
	<td width="40"></td>
</tr>
</table>
<div id="optional_changes_dialog" style="display:none;"></div>
<!--{? APP_LIKE_TYPE == 'API' }-->
	<!-- 좋아요할인 : 삭제하지 말아주세요 -->
	<!--{ ? !( strstr(_SERVER.HTTP_HOST,'.firstmall.kr') || _SERVER.HTTP_HOST==APP_DOMAIN ) }-->
	<iframe name="snsiframe" src="http://{config_system.subDomain}/admin/sns/subdomainfacebookck" frameborder="0" width="0" height="0"></iframe>
	<script language="JavaScript" src="http://{config_system.subDomain}/order/fblike_opengraph_firstmallplus?firstmallcartid={firstmallcartid}"></script>
	<script language="JavaScript" src="http://{config_system.subDomain}/order/fbopengraph?firstmallcartid={firstmallcartid}"></script>
	<!--{ / }-->
	<script language="JavaScript" src="../order/fblike_opengraph"></script>
	<!-- 좋아요할인 : 삭제하지 말아주세요 -->
<!--{ / }-->

<div id="fade"></div>
<div id="modal">
    <img id="loader" src="../images/box.gif" alt="신선함을 로딩중"/> 
</div>

<!-- //ip 주소 가져오기 -->
<script type="text/javascript">
  var userip="0000";
</script>      

<script type="text/javascript">

	$('.ui-draggable').first().ready(function(){
		$(".optionTitle").first().attr("style", "color:#ffffff"); 
	});
	var count = 0;
	var counting = false;
	var timer;
	$(document).ready(function() {
		//console.log("cart loaded");

		// 전체 선택
		$("form#cart_form .btn_select_all").toggle(function() {
			$("input[name='cart_option_seq[]']").attr("checked",true);
		}, function() {
			$("input[name='cart_option_seq[]']").attr("checked",false);
		});

		// 선택삭제 -- 모바일 차용 by [[so]] 
		/*
		$(".btn_select_del").click(function() {

			var selected_order = $(this).val();  
			$("input[name='cart_option_seq[]']").attr("checked",false);
			$("input[name='cart_option_seq[]'][value='"+selected_order+"']").attr("checked", true);

			$("form#cart_form").attr("action","del");
			$("form#cart_form").attr("target","actionFrame");
			$("form#cart_form")[0].submit();
		});  

		*/

		/*
		$(".btn_select_del").click(function() {
			var selected_order = '';
			$("input[name='cart_option_seq[]']").each(function(e, el) {
				if( $(el).attr('checked') == 'checked' ){
					selected_order += $(el).val() + ",";
				}
			});
			if(!selected_order){
				openDialogAlert('삭제할 상품을 선택해 주세요.','400','140');
				return false;
			}
			$("form#cart_form").attr("action","del");
			$("form#cart_form").attr("target","actionFrame");
			$("form#cart_form")[0].submit();
		});

		*/

		// 수량변경
		$("button.btn_ea_modify").bind("click",function() {
			closeDialog("optional_changes_dialog");//diglog 초기화
			var url = "optional_changes?option_catalog=1&no="+$(this).attr("id");
			$.get(url, function(data) {
				$("div#optional_changes_dialog").html(data);
			});
			openDialog("수량 조절하기", "optional_changes_dialog", {"width":450,"height":350}); //[[so]] [[wip]]work in progress
		});

		// 선택 주문
		$(".btn_selected_order").bind("click",function() {
			var selected_order = '';
			$("input[name='cart_option_seq[]']").each(function(e, el) {
				if( $(el).attr('checked') == 'checked' ){
					selected_order += $(el).val() + ",";
				}
			});

			if(!selected_order){
				openDialogAlert('주문할 상품을 선택해 주세요.','400','140');
				return false;
			}

			$("form#cart_form").attr("action","addsettle?mode=choice");
			$("form#cart_form").attr("target","");
			$("form#cart_form")[0].submit();
			$("form#cart_form").attr("target","actionFrame");
		});

		// 전체 주문
		$(".btn_all_order").bind("click",function() {
			$("form#cart_form").attr("action","addsettle");
			$("form#cart_form").attr("target","actionFrame");
			$("form#cart_form")[0].submit();
		});

		// 선택 위시리스트 저장
		$("button.btn_select_wishlist").bind("click",function(){
			$("form#cart_form").attr("action","../mypage/wish_add?mode=cart");
			$("form#cart_form").attr("target","actionFrame");
			$("form#cart_form")[0].submit();
		}); 

		$(".price_area").bind("mouseover",function(){
			$(this).parent().find(".sale_price_layer").show();
		}).bind("mouseout",function(){
			$(this).parent().find(".sale_price_layer").hide();
		});
		
		updateTotalPrice();
		parent.loaded_notify();
		update_goods_prices(); // [[so]]
		console.log("cart finished loading");
//		openModal();
//		setTimeout(closeModal,1000);
		/*
		$('.goods_price').each(function() {
			console.log('for loop running');
			var oldprice = $(this).innerHTML(); 
			oldprice = toLocaleStringNew(oldprice);
			$(this).text(""+oldprice);
		});
		
		*/ 

	//	order_price_calculate();
	});

	//[[so]]
	function update_goods_prices() {
		//console.log("calleddd");
		var goods_prices_list = $('.goods_price');
		//console.log(goods_prices_list);
		for (i=0; i<goods_prices_list.length; i++) {
			var oldprice = parseInt(goods_prices_list[i].innerHTML);
			var goods_seq = (goods_prices_list[i].id).substring(14);
			oldprice = toLocaleStringNew(oldprice);
			console.log(oldprice+" "+goods_seq);
			$('#item_price_id_'+goods_seq).text(""+oldprice);
		}
	
	
	}
	//[[so]]

	// facebook 라이크 할인 적용 및 오픈그라피
	function getfblikeopengraph(){
		$.get('../order/fblike_opengraph', function(data) {
			$("#facebook_mgs").html("");
		});
	}

	function order_price_calculate(){
		var f = $("form#orderFrm");
		f.attr("action","calculate?mode=cart");
		f.attr("target","actionFrame");
		f[0].submit();
	}
	function alsocalled(){
		console.log("iamalsocalled");
	}

	 //[[bo]] cart에서 최고수량이 됬을 때
	function max_goods_black(goods_seq){
		var classname = "up_count_"+goods_seq;					
		$('.'+classname).attr('style','width:30px; height:30px; text-align:center; line-height:25px; color:#eeeeee');	
	}
	 //[[bo]] cart에서 최고수량이 풀렸을 때
	function max_goods_green(goods_seq){
		var classname = "up_count_"+goods_seq;					
		$('.'+classname).attr('style','width:30px; height:30px; text-align:center; line-height:25px; color:#007e41');	
	}

	// *********** [[so]] *********** 
	function quick_delete(cart_option_seq, goods_seq) { 
			//console.log(cart_option_seq);
			//$('#pinnn').html(cart_option_seq);
			//post to order/del
			openModal();
			if (window.XMLHttpRequest) {
				// code for IE7+, Firefox, Chrome, Opera, Safari
				xmlhttp = new XMLHttpRequest();
			 } else {
				// code for IE6, IE5
				xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
			 }
			var url = "../order/del";
			xmlhttp.open("POST", url, true);
			xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");//Fixed
			xmlhttp.onreadystatechange=function(){
               if (xmlhttp.readyState==4) {
                   if(xmlhttp.status==200){
                       //console.log(xmlhttp.responseText);
                         //console.log("im here");
                         //$('#pinnn').attr('style', 'display:none'); 
                        //var placer=0;
						setTimeout(closeModal,500);
 						$('#'+cart_option_seq+'').attr('style', 'display:none');                        
						parent.quick_delete_cart(goods_seq);
						$('.cart_option_price_'+cart_option_seq).text("0");
						updateTotalPrice();
						update_cart_badge(); //[[so]] 

						check_purchase_num_remove(goods_seq);

					} else {
                         //console.log("im not here");
						$('#pinnn').html('claire de lune');
						closeModal();
					}
               } else {
               }
           };
           xmlhttp.send("cart_option_seq[]="+cart_option_seq); //cart_version=2&
   }

   function check_purchase_num_remove(goods_seq){
//		var alt = $('.'+goods_seq).attr("alt");
//		console.log('alt : ' + alt);
		var arr = document.getElementsByClassName(goods_seq)[0].getAttribute("alt");
//		console.log(arr);
		var display_attr = new Array();
				console.log("arr : "+arr);
		$("[alt="+arr+"]").each(function(){
			display_attr.push(this.style.display);
		});
		var cnt = 0;
		for(var j=0; j<display_attr.length; j++){
			if(display_attr[j]=='none'){

			}else{
				cnt++;
			}			
		}

		var arr_split = arr.split('_');
		arr=arr_split[2];
		if(cnt==0){
			$('#purchase_num_title_'+arr).attr('style','display:none');
		}



   }
   function quick_plus_timer(cart_option_seq, goods_seq){
    		//console.log("quick_remove_timer: "+count);

			
			//[[nick]] max_cnt handling
		    var ea = parseInt($('#cart_option_ea_'+cart_option_seq).text());
			var max_cnt = document.getElementById("max_purchase_"+goods_seq).innerHTML;
		
			if (max_cnt > 0) {
				if (ea >= max_cnt) {
					var classname = "up_count_"+goods_seq;					
					$('.'+classname).attr('style','width:30px; height:30px; text-align:center; line-height:25px; color:#eeeeee');
					parent.max_goods_black_hover(goods_seq);	
					return;
				}
			}
			//[[nick]]
		    
			parent.plus_one(goods_seq);
			var previous = parseInt($('#cart_option_ea_'+cart_option_seq).text())+1;
			$('#cart_option_ea_'+cart_option_seq).text(previous);
			itemUpdatePrice(cart_option_seq);
			
			if (counting) {
			    clearTimeout(timer);
			    count++;
			    timer = setTimeout( function(){
					q_plus(cart_option_seq, goods_seq, previous);
				}, 500);			        
			} else {
			    counting = true;
			    count++;
			    timer = setTimeout( function(){
					q_plus(cart_option_seq, goods_seq, previous);
				}, 500);			        
			}			
   }
   function quick_minus_timer(cart_option_seq, goods_seq){
    		//console.log("quick_remove_timer: "+count);
		    var ea = parseInt($('#cart_option_ea_'+cart_option_seq).text());
			var max_cnt = document.getElementById("max_purchase_"+goods_seq).innerHTML;

			if(ea <= max_cnt){
				var classname = "up_count_"+goods_seq;					
					$('.'+classname).attr('style','width:30px; height:30px; text-align:center; line-height:25px; color:#007e41');	
					parent.max_goods_green_hover(goods_seq);			
			}


			if (ea>1) {
				parent.minus_one(goods_seq);
				var newea = ea-1;
				$('#cart_option_ea_'+cart_option_seq).text(newea);
				itemUpdatePrice(cart_option_seq);
				
				if (counting) {
					clearTimeout(timer);
					count++;
					timer = setTimeout( function(){
						q_minus(cart_option_seq, goods_seq, newea);
					}, 500);			        
				} else {
					counting = true;
					count++;
					timer = setTimeout( function(){
						q_minus(cart_option_seq, goods_seq, newea);
					}, 500);			        
				}	

			}
			
   }
	function quick_plus(cart_option_seq, goods_seq){
		q_plus(cart_option_seq, goods_seq);
	}
	function quick_minus(cart_option_seq, goods_seq){	
		var previous = parseInt($('#cart_option_ea_'+cart_option_seq).text());
		if (previous != 1) {
			q_minus(cart_option_seq, goods_seq);
		}
	}
	function q_plus_parent(good_seq){
		var ea = parseInt($('.goods_seq_'+good_seq).text());
		$('.goods_seq_'+good_seq).text(ea+1);
		itemUpdatePriceGoods(good_seq);
	}
	function q_minus_parent(good_seq){		
		var ea = parseInt($('.goods_seq_'+good_seq).text());
		$('.goods_seq_'+good_seq).text(ea-1);
		itemUpdatePriceGoods(good_seq);
	}
	function quick_delete_parent(cart_option_seq){
 		$('#'+cart_option_seq+'').attr('style', 'display:none');		
		$('.cart_option_price_'+cart_option_seq).text("0");
		updateTotalPrice();
		var goods_seq = document.getElementById(cart_option_seq).className;
		check_purchase_num_remove(goods_seq);
	}

	function q_plus(cart_option_seq, good_seq, ea) {
		console.log(good_seq);
		count = 0;
		counting = false;
	    if (window.XMLHttpRequest) {
			// code for IE7+, Firefox, Chrome, Opera, Safari
			xmlhttp = new XMLHttpRequest();
		 } else {
			// code for IE6, IE5
			xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
		 }     
		 var url = "../order/quick_modify";
		 xmlhttp.open("POST", url, true);
		 xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");//Fixed
		 xmlhttp.onreadystatechange=function(){
			if (xmlhttp.readyState==4) {
				if(xmlhttp.status==200){
					console.log("success");	
				 } else {
					console.log("fail");						
				 }
			} else {
					console.log("fail");						
			}
		};
		xmlhttp.send("cart_option_seq="+cart_option_seq+"&ea="+ea); //cart_version=2&
	}
	
	function q_minus(cart_option_seq, good_seq, ea) {
		console.log(good_seq);
		count = 0;
		counting = false;
		
		if (window.XMLHttpRequest) {
			// code for IE7+, Firefox, Chrome, Opera, Safari
			xmlhttp = new XMLHttpRequest();
		 } else {
			// code for IE6, IE5
			xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
		 }     
		 var url = "../order/quick_modify";
		 xmlhttp.open("POST", url, true);
		 xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");//Fixed
		 xmlhttp.onreadystatechange=function(){
			if (xmlhttp.readyState==4) {
				if(xmlhttp.status==200){
					console.log("success");	
				 } else {
					console.log("fail");						
				 }
			} else {
					console.log("fail");						
			}
		};
		xmlhttp.send("cart_option_seq="+cart_option_seq+"&ea="+ea); //cart_version=2&

    }
   
   
   
   	function update_cart_list() { 
   		if (window.XMLHttpRequest) {
			xmlhttp = new XMLHttpRequest(); // code for IE7+, Firefox, Chrome, Opera, Safari
		} else {
			xmlhttp = new ActiveXObject("Microsoft.XMLHTTP"); // code for IE6, IE5
		}     
		var url = "../order/getlist_ver2";
		
		xmlhttp.open("POST", url, true);
		xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");//Fixed
		xmlhttp.onreadystatechange=function(){
			if (xmlhttp.readyState==4) {
				if(xmlhttp.status==200){
					//console.log(xmlhttp.responseText);
					items = JSON.parse(xmlhttp.responseText);
					console.log(items);
					
					var table = $('#cart_list');
					for(i=0; i<items.length; i++){
							//$('item_cart, .'+items[i][0]).text(items[i][1]);
							//$('count, .'+items[i][0]).text(items[i][1]);
							//$(items[i][0]+', .add-cart-large').text("+");
							//$(items[i][0]+', .remove-cart-large').text("-");
							
							
					}
					
				}
			} else {
//						$('add-cart-large, .'+good_seq).prop("disabled", false);						
			}
		};
		xmlhttp.send("display_lattice=1");
			
   	}
	function itemUpdatePrice(cart_option_seq){
		//update price of cart_option_seq with new count		
		var ea = parseInt($('#cart_option_ea_'+cart_option_seq).text());
		var price = parseInt($('.item_price_'+cart_option_seq).text().replace(/\,/g,''));
		var newprice = ea*price;
		$('.cart_option_price_'+cart_option_seq).text(""+toLocaleStringNew(newprice));
		updateTotalPrice();
	}
	function itemUpdatePriceGoods(goods_seq){
		var ea = parseInt($('.goods_seq_'+goods_seq).text());
		var price = parseInt($('#item_price_id_'+goods_seq).text().replace(/\,/g,''));
		var newprice = ea*price;
		$('#cart_option_price_id_'+goods_seq).text(""+toLocaleStringNew(newprice));		
		updateTotalPrice();
	}
	
	function updateTotalPrice(){
		//get all prices & add them up
//		var list = document.getElementsByClassName("item_prices");
		var list = $('.item_prices');
		//console.log(list);
		var tot = 0;
		for(i=0; i<list.length; i++){
			console.log(list[i]);
			var cost = list[i].innerHTML;
			console.log(cost);
			tot += parseInt(cost.replace(/,/g, ''), 10);
			console.log(tot);
		}
		if (tot>=40000) {//[[nick]] 배송비 0원 이벤트
			$('#goods_delivery_price').text("기본배송비: 0원");
			$('#goods_delivery_total').text("총 결제금액: "+toLocaleStringNew(tot)+"원");
		} else if(tot==0){
			console.log("no items");
			$('#goods_delivery_price').text("");
			$('#goods_delivery_total').text("장바구니에 담긴 상품이 없습니다.");						
		} else {
			$('#goods_delivery_price').text("기본배송비: 3,000원");
			tot+=3000;
			$('#goods_delivery_total').text("총 결제금액: "+toLocaleStringNew(tot)+"원");			
		}
	}
    function openModal() {
		//console.log("modal open");
        document.getElementById('modal').style.display = 'block';
        document.getElementById('fade').style.display = 'block';
    }

    function closeModal() {
		//console.log("modal close");
        document.getElementById('modal').style.display = 'none';
        document.getElementById('fade').style.display = 'none';
    }
	function closeModalTimeOut(){
		setTimeout(closeModal,50);		
	}
	function toLocaleStringNew(x, sep, grp) {
		var sx = (''+x).split('.'), s = '', i, j;
		sep || (sep = ','); // default seperator
		grp || grp === 0 || (grp = 3); // default grouping
		i = sx[0].length;
		while (i > grp) {
			j = i - grp;
			s = sep + sx[0].slice(j, i) + s;
			i = j;
		}
		s = sx[0].slice(0, i) + s;
		sx[0] = s;
		return sx.join('.')
	}
  
	function mixpanel_order(){


		  var userip_str = '' + userip;
		  var epicerie_ip = '121.88.67.90';
		  var member_seq = "{userInfo.member_seq}";

		  //console.log(member_seq);

		  if(userip_str == epicerie_ip || userip_str == '122.35.173.159' || member_seq == '52' || member_seq == '3' || member_seq == '104'|| member_seq == '473'){
		    //console.log('bobo');        


		  }else {
		    //console.log('notbo');

			// start mixpanel
			var user_name = "{userInfo.user_name}";
			//console.log(user_name);

		  //   mixpanel.track("Order", {
		  //         "pc/mobile": "pc",
		  //         "user_name" : user_name,
		  //         "order_step" : "cart"
			 // });
		}
	}

</script>
